Let's get to the code already!

(this course assumes you have git, yarn, a text editor, and a command line available)

[workbook 0 - blackjack](https://github.com/nikfrank/react-course-workbook-0)

Let's make our work directory for the course

```
mkdir -p ~/code/react-course
cd ~/code/react-course
```

and clone the first workbook

```
git clone https://github.com/nikfrank/react-course-workbook-0
cd react-course-workbook-0
yarn
```

open up our text editor to ./src/App.js

```
emacs ./src/App.js
```

(this command will vary, most people will probably just open the file in the text editor)

and write our first line of code

before:
```js
  dealNextCard = ()=> 0 // noop
```

after:
```js
  dealNextCard = ()=> this.setState(({ cards, handStatus })=> ({
    cards: (handStatus === 'hitting') ?
           cards.concat( newCard() ) :
           [ newCard(), newCard() ]
           
  }), ({
    hasAce = !!this.state.cards.find(({ rank })=> rank === 1),
    total = this.state.cards.reduce((p, { rank })=> p + Math.min(10, rank), 0),
    
  } = {})=> this.setState(({ cards })=> ({
         handStatus: (total > 21) ? 'bust' :
                     (total >= 17) ? 'standing' :
                     (hasAce && (total === 11)) ? 'blackjack' :
                     (hasAce && (total >= 8) && (total < 11)) ? 'standing' :
                     'hitting'
       }) )
  )
```

that was a lot of fun!

now your app plays the dealer hand like a las vegas dealer, all in one line of code.

just do ```npm start``` in the project root and it'll run on localhost:3000 in your browser

---


The purpose of this admittedly silly example is to intruduce you to the main topics we'll be covering:

- react (here we use React.Component's this.setState function)
- functional style programming
- es6 (destructuring, fat arrows, default params used here)

also, it's important to understand javascript is a language of many styles, finding what works for you is the most important - this function is how I like to write things, but maybe isn't your cup of tea!

You'll read plenty of javascript, some of it will be good stuff - so keep your eyes open.


---


the precocious student will want to learn how this works (instead of just typing it in and believing in magic):


the first chunk calculates either one new card, if the dealer should be hitting, based on the previously set state.handStatus; or otherwise an entirely new hand (two cards)

the second chunk determines if there's an ace, and the total of the cards (by exploiting javascript's default parameter syntax; and relying on the ```setState``` callback (second param) having no input params)

the third chunk uses the results from the second chunk to decide what the new handStatus is, and sets it

the specifics of how the (parens), {curlies}, ```this.setState```s and ```=>``` fat arrows accomplish this rely largely on ```this.setState```, destructuring and default params.


for more reading, here are some google search term links

- [fat arrow](https://www.google.com/search?q=js+fat+arrow)
- [ternary operator](https://www.google.com/search?q=ternary+operator)
- [React setState](https://www.google.com/search?q=react+setState) - make sure to read about bothe updater (first param) and callback (second param) functions!
- [destructuring](https://www.google.com/search?q=js+destructuring+assignment)
- [default params](https://www.google.com/search?q=js+default+params)
- [array reduce](https://www.google.com/search?q=js+array+reduce)
- [array find](https://www.google.com/search?q=js+array+find)
- [array concat](https://www.google.com/search?q=js+array+concat)
- [casting to boolean](http://www.jstips.co/en/javascript/converting-truthy-falsy-values-to-boolean/)
- [blackjack dealer rules](https://www.google.com/search?q=blackjack+dealer+rules)


---


[back to index](https://github.com/nikfrank/react-course)

[next lesson](./1.md)